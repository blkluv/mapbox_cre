<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATLWarehouse Grid</title>

<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">

<style>
body { margin:0; padding:0; background:#0a0a0a; font-family:Arial; }
#map { position:absolute; top:60px; bottom:0; width:100%; }

#header {
position:fixed;
top:0;
width:100%;
height:60px;
background:linear-gradient(90deg,#00ffea,#ff00ff);
display:flex;
align-items:center;
justify-content:center;
gap:30px;
z-index:1000;
font-weight:bold;
}

#header a {
color:#000;
text-decoration:none;
background:#fff;
padding:6px 12px;
border-radius:6px;
font-size:14px;
}

.mapboxgl-popup-content {
background:#111 !important;
color:#fff;
border-radius:12px;
}

.mapboxgl-popup-content h3 {
color:#00ffea;
margin-bottom:8px;
}
</style>
</head>
<body>

<div id="header">
<a href="https://ops.ATLwarehouse.com">âš™ï¸ OPS</a>
<a href="https://ATLwarehouse.com">ğŸ  HOME</a>
<a href="https://tiktok.com/@atlwarehouse">ğŸµ TIKTOK</a>
<a href="https://TV.atlwarehouse.com">ğŸ“º TV</a>
</div>

<div id="map"></div>

<script>

mapboxgl.accessToken = "YOUR_MAPBOX_TOKEN";

const map = new mapboxgl.Map({
container:"map",
style:"mapbox://styles/mapbox/dark-v11",
center:[-84.39,33.77],
zoom:10
});

map.addControl(new mapboxgl.NavigationControl());

/* ---------------------------------
   LOAD WAREHOUSES FROM OPENSTREETMAP
---------------------------------- */

async function loadWarehouses(){

// Atlanta bounding box
const query = `
[out:json][timeout:25];
(
  node["building"="warehouse"](33.45,-84.70,34.05,-84.10);
  way["building"="warehouse"](33.45,-84.70,34.05,-84.10);
);
out center;
`;

const response = await fetch("https://overpass-api.de/api/interpreter",{
method:"POST",
body:query
});

const data = await response.json();

data.elements.forEach(el => {

let coords;

if(el.type === "node"){
coords = [el.lon, el.lat];
}
else if(el.type === "way" && el.center){
coords = [el.center.lon, el.center.lat];
}
else return;

const name = el.tags?.name || "Warehouse Facility";

const popupHTML = `
<div style="max-width:280px;">
<h3>${name}</h3>
<p>ğŸ“¦ Building Type: Warehouse</p>
<p>ğŸ“ Atlanta Industrial Region</p>
<hr style="border-color:#333;">
<button style="
width:100%;
padding:8px;
background:#00ffea;
border:none;
font-weight:bold;
cursor:pointer;">
Request Info
</button>
</div>
`;

new mapboxgl.Marker({color:"#00ffea"})
.setLngLat(coords)
.setPopup(new mapboxgl.Popup({maxWidth:"300px"}).setHTML(popupHTML))
.addTo(map);

});

}

loadWarehouses();

</script>

</body>
</html>
